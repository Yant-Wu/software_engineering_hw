# software_engineering_hw
## 健康生活管家
### Functional Requirements
#### User Story 1: AI 智能健康飲食管理系統
作為一個注重健康飲食的人，使用者希望 App 能根據他的飲食習慣、健康目標和身體狀況，AI 智能推薦個性化的健康餐菜單，並能掃描食物辨識營養成分，同時自動生成購物清單，還能追蹤記錄使用者每日的飲食數據並提供改善建議，讓使用者可以全方位管理他的健康飲食。
##### 任務清單
- Task 1.1 (24–32 hours): 設計用戶資料輸入介面，包含飲食習慣、健康目標、過敏史、身體狀況等。
- Task 1.2 (40–60 hours): 建立健康餐食資料庫，包含菜餚資訊、熱量、營養成分、食材等完整資訊。
- Task 1.3 (32–48 hours): 整合 AI 圖像識別 API 或開發相關模型，用於食物辨識和熱量計算。
- Task 1.4 (60–80 hours): 開發 AI 推薦引擎，根據用戶輸入生成個性化菜單。
- Task 1.5 (24–32 hours): 設計菜單顯示介面，包含菜餚圖片、描述、營養資訊和熱量數據。
- Task 1.6 (40–56 hours): 實作菜單智能調整功能，根據用戶健康數據變化動態更新菜單。
- Task 1.7 (56–80 hours): 開發食物掃描辨識系統，包含拍照介面、多重食物識別、模糊識別、熱量及營養成分精準計算與單位換算功能。
- Task 1.8 (32–48 hours): 設計飲食數據儲存結構並開發數據記錄功能，支援掃描結果、手動輸入及長期數據追蹤。
- Task 1.9 (32–40 hours): 實作圖表生成功能，視覺化呈現每日熱量和營養攝取趨勢。
- Task 1.10 (48–64 hours): 開發飲食趨勢分析和改善建議生成邏輯。
- Task 1.11 (32–48 hours): 開發購物清單系統，包含自動生成邏輯、智能分類功能（例如：蔬菜、肉類、調味料）及分享功能。
### Non-Functional Requirements
- Task 2.1 性能優化 (40–56 hours): 確保 AI 推薦、食物掃描等核心功能的回應時間在可接受範圍內（3–5 秒）。
- Task 2.2 安全性與隱私保護 (48–72 hours): 對用戶敏感數據（如過敏史）進行加密儲存與傳輸。
- Task 2.3 使用者體驗與易用性 (32–48 hours): 設計直觀易懂的 UI/UX，並提供首次使用引導。
- Task 2.4 可靠性與錯誤處理 (40–60 hours): 建立完善的錯誤處理與日誌系統，確保 App 穩定運行。
- Task 2.5 相容性 (24–40 hours): 支援主流的 iOS 與 Android 作業系統版本及不同螢幕尺寸。
### 測試案例 (Test Cases)
| 測試案例編號 | 測試功能項目 | 輸入 (Input) | 預期輸出 (Expected Output) |
|---|---|---|---|
| TC-01 | 用戶資料輸入與儲存 | 健康目標: 減重, 飲食習慣: 低碳水, 過敏史: 花生。 | 1. 資料成功儲存。<br>2. 重新開啟 App 後資料依然存在。 |
| TC-02 | AI 菜單推薦 | 使用者請求生成晚餐菜單。 | 1. 系統在 8 秒內生成菜單。<br>2. 菜單符合低碳水原則。<br>3. 菜單中不包含任何花生或其製品。 |
| TC-03 | 食物掃描辨識 | 拍攝一顆中等大小的蘋果。 | 1. 成功辨識為「蘋果」。<br>2. 顯示預估的熱量與營養成分。<br>3. 可成功將此筆紀錄加入飲食日誌。 |
| TC-04 | 購物清單生成 | 基於包含「雞胸肉沙拉」和「烤鮭魚」的菜單。 | 1. 自動生成包含雞胸肉、生菜、鮭魚等食材的清單。<br>2. 清單內容已按「蔬菜」、「肉類」等分類。 |
### Stakeholders
| 角色 | 職責與說明 |
|---|---|
| 系統使用者 | 注重健康飲食、希望透過 App 管理個人飲食習慣與健康的最終用戶。他們是系統服務的主要對象，其需求和反饋是專案成功的關鍵。 |
| 系統管理員 | 負責管理與維護 App 後台內容的人員。主要工作包含維護健康餐食資料庫、審核資訊、管理使用者回饋等，確保內容的正確性與即時性。 |
| 系統維護者 | 負責確保系統伺服器、資料庫和整體應用程式穩定運行的技術人員。他們處理系統部署、監控性能、進行例行維護與故障排除。 |
| 系統開發者 | 負責 App 所有功能開發與實作的團隊成員，包含前後端程式設計、AI 模型整合與資料庫建構等。他們需要將需求轉化為實際的應用程式功能。 |
| 客服人員 | 作為使用者與開發團隊之間的橋樑，負責收集、整理並回覆使用者的問題、建議與錯誤回報，協助提升使用者體驗。 |
| 投資者 | 提供專案開發所需經費的個人或機構。他們關注專案的開發進度、市場潛力與最終的投資回報率。 |
### 小組成員
1. **B1243017 吳彥廷**
	- 任務 1.1：24–32 小時
	- 任務 1.5：24–32 小時
	- 任務 1.8：32–48 小時
2. **B1243009 陳彥儒**
	- 任務 1.3：32–48 小時
	- 任務 1.7：56–80 小時
3. **B1243005 曹哲維**  
	- 任務 1.4：60–80 小時  
	  - 功能目標：實作「AI 推薦引擎」核心模組，依照使用者個人健康資料產生每日／每餐的健康菜單建議。  
	  - 輸入（Input）：  
	    - 使用者基本資料：年齡、性別、身高、體重、活動量等。  
	    - 使用者健康目標：例如「減重」、「增肌」、「維持體態」、「控制血糖」。  
	    - 飲食偏好／限制：例如「低碳水」、「高蛋白」、「素食」、不吃牛／豬等。  
	    - 過敏史與禁忌食材：例如花生、海鮮、乳製品等。  
	    - 來自餐食資料庫的餐點資訊：熱量、三大營養素比例、其他營養成分與食材清單。  
	  - 處理流程（Process）：  
	    - 根據使用者健康目標與基本資料估算每日建議總熱量與三大營養素分配（蛋白質／脂肪／碳水比例）。  
	    - 從餐食資料庫中，篩選符合飲食偏好與過敏限制的可用餐點集合。  
	    - 依照早餐／午餐／晚餐等用餐時段，組合出多組候選菜單，並計算每組菜單的總熱量與營養分布。  
	    - 根據演算法規則（例如：與目標熱量差距最小、營養分布最接近目標比例、多樣性）排序，選出一組或多組推薦菜單。  
	  - 輸出（Output）：  
	    - 以標準化 JSON 結構回傳，包含：  
	      - 每餐（早餐／午餐／晚餐）的推薦菜單清單。  
	      - 每道餐點的基本資訊（名稱、圖片 URL、描述）。  
	      - 每餐與當日的熱量與營養成分總結。  
	    - 前端可直接使用此輸出渲染菜單畫面與營養資訊。  
	  - 系統整合與品質考量：  
	    - 必須與用戶資料模組及餐食資料庫模組完成資料介面設計（API 或函式介面），明確定義欄位格式與錯誤回傳格式。  
	    - 需保留演算法策略的可擴充性，未來可新增更多健康指標（如血壓、運動量）或替換／增加推薦策略而不影響現有介面。  
	  - 非功能需求（NFR）：  
	    - 效能：在一般網路環境與資料量下，單次菜單推薦請求（包含從資料庫取得資料與演算法處理）應在 **3 秒內**完成回應；在極端情境（餐食資料庫較大）不得超過 **5 秒**。  
	    - 可用性與錯誤處理：當資料不完整（例如缺少活動量或最新體重）時，系統需以預設值或保守估計進行計算，同時回傳可識別的警示碼與對應提示訊息，避免整體推薦流程失敗。  
	    - 可維護性：演算法核心邏輯需與輸入／輸出介面明確分層，程式碼需具備單元測試覆蓋率（例如：主要計算函式至少 70% 行為被測試），以降低未來調整規則時造成的回歸錯誤。  
	    - 可追蹤性：對於每次推薦結果，需能在日誌中追蹤主要決策依據（例如：目標熱量、實際菜單熱量、被排除餐點原因），方便後續除錯與調整規則。  
	  - 驗收標準（Acceptance Criteria）：  
	    - 使用者設定「減重」目標且輸入完整基本資料時，系統必須產生至少 **一套完整的一日菜單**（含早餐、午餐、晚餐），且該一日菜單的總熱量誤差在建議目標值 ±10% 以內。  
	    - 推薦菜單中不得包含任何使用者標註的過敏食材或禁忌食材，否則視為測試失敗。  
	    - 在連續 50 筆推薦請求壓力測試下，至少 95% 的請求回應時間低於 3 秒。  
	    - 針對同一組輸入資料，多次呼叫推薦 API 應產生「可接受程度的穩定結果」，若演算法有刻意加入隨機性，則變化範圍需在設計文件中有明確說明（例如同類型餐點替換）。  
	  - 測試案例方向（Examples）：  
	    - TC-R1：使用者目標「減重」，每日建議 1600 kcal，系統輸出的一日菜單總熱量需落在 1440～1760 kcal 之間，且不含使用者標示過敏食材。  
	    - TC-R2：使用者選擇「素食」，系統推薦菜單中不得出現肉類或海鮮，若資料庫中無足夠素食餐點，需回傳對應錯誤碼與提示，而不是回傳空白或錯誤格式。  
	    - TC-R3：模擬缺少體重資訊的狀況，系統應採用預設體重或顯示提示，仍然產生合理菜單，而非直接錯誤中止。  
	- 任務 1.10：48–64 小時  
	  - 功能目標：實作「飲食趨勢分析」與「改善建議生成」模組，協助使用者了解長期飲食狀況並獲得具體建議。  
	  - 輸入（Input）：  
	    - 使用者飲食紀錄（至少含最近 7～30 天）：每日攝取總熱量、各餐熱量分佈。  
	    - 每日營養攝取分布：蛋白質／脂肪／碳水比例、蔬菜與水果份量等。  
	    - 使用者健康目標與基本設定（與任務 1.4 共用）。  
	  - 藝處理流程（Process）：  
	    - 對歷史紀錄進行彙整與統計，例如：  
	      - 每日平均總熱量與與目標熱量的偏差。  
	      - 各營養素比例是否長期超標或不足。  
	      - 是否經常在特定時段（例如晚餐）攝取過多熱量。  
	    - 根據統計結果與預先定義的規則（rule-based engine），判斷需要提醒的項目與建議方向。  
	    - 產出可重複使用的建議結構（例如：建議類型、對應原因、文字描述），方便日後增加新規則或調整建議內容。  
	  - 輸出（Output）：  
	    - 建議結果以結構化資料回傳，包含：  
	      - 建議類型（例如：減少含糖飲料、增加高纖食物、調整晚餐份量）。  
	      - 被觸發的原因說明（例如：最近 14 天平均糖分攝取高於建議值 20%）。  
	      - 可顯示給使用者的建議文字內容。  
	    - 模組輸出需能與圖表模組（任務 1.9）協作，提供可視化所需的統計數據。  
	  - 品質與一致性考量：  
	    - 需確保所有建議均不違反使用者的健康目標，且不包含使用者過敏或禁忌食材相關的建議。  
	    - 需定義並處理資料不足或異常的情境，例如紀錄天數太少時採用較保守的建議策略，並回傳適當提示。  
	  - 非功能需求（NFR）：  
	    - 效能：對最近 **30 天** 紀錄進行分析並產出建議的運算，應在 **2 秒內** 完成；當紀錄天數增加（例如 90 天）時，應透過適當的索引或預先彙總機制維持合理效能。  
	    - 可用性：在沒有足夠歷史資料（例如小於 3 天）時，模組仍需回傳明確的「資料不足」提示與簡單建議（例如：請持續紀錄至少一週以產生完整分析），而非回傳空集合或錯誤。  
	    - 可維護性：規則引擎需支援以設定檔或資料表方式新增／調整規則，而不必大量修改程式碼，以降低日後維護成本。  
	    - 可解釋性：每一則建議都需附帶對應的統計指標（例如：最近 14 天平均糖分攝取值 vs. 建議值），方便在 UI 上向使用者說明原因。  
	  - 驗收標準（Acceptance Criteria）：  
	    - 當使用者連續紀錄超過 14 天且有明顯「總熱量超標」情況時，系統必須至少產出一條與總熱量控制相關的建議（例如：減少含糖飲料或宵夜）。  
	    - 若特定營養素（例如纖維或蔬菜份量）長期低於建議值 20% 以上，系統需產出至少一條與該營養素相關的改善建議。  
	    - 在處理 30 天完整紀錄時，分析與建議生成流程應在 2 秒以內完成，且不因個別紀錄異常（少數欄位缺失）導致整體失敗。  
	    - 任何產出的建議內容皆不得建議使用者攝取其過敏或禁忌食材，測試資料若刻意放入此情境，系統必須排除該類建議。  
	  - 測試案例方向（Examples）：  
	    - TC-T1：輸入 30 天紀錄，最近 14 天平均總熱量高於建議值 25%，預期系統產生「控制總熱量」相關建議，並附上對應統計數值。  
	    - TC-T2：刻意將使用者標註為「對花生過敏」，但歷史紀錄中包含多次花生攝取，系統在產生建議時 **不得** 建議增加花生或相關食物，而應傾向提醒「注意過敏食材攝取」。  
	    - TC-T3：只提供 2 天飲食紀錄，系統需回傳「資料不足」類型的建議或提示，且執行時間仍在可接受範圍內。  
4. **B1243001 江珩安**
	- 任務 1.2：40–60 小時
	- 任務 1.11：32–48 小時
		- 新增購物清單系統
5. **B1243018 王翃陞**
	- 任務 1.6：40–56 小時
	- 任務 1.9：32–40 小時